(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-wallets-tags-index"],{"123f":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}));var n={uNavbar:a("e3f4").default,uIcon:a("cd4e").default,uCard:a("e6cc").default,uModal:a("b164").default,uFormItem:a("266c").default,uInput:a("5fcc").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("u-navbar",{attrs:{"custom-back":t.back,title:"标签"}},[a("v-uni-view",{staticClass:"u-navbar-right",attrs:{slot:"right"},slot:"right"},[a("u-icon",{attrs:{name:"plus"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCreateModal=!0}}})],1)],1),a("u-card",{attrs:{title:"标签"}},[a("v-uni-view",{attrs:{slot:"body"},slot:"body"},t._l(t.tags,(function(e,n){return a("v-uni-view",{key:n,staticClass:"u-body-item u-flex u-row-between u-p-b-0"},[a("v-uni-view",{staticClass:"u-body-item-title u-line-2",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.updateTag=e,t.showUpdateModal=!0}}},[t._v(t._s(e.title))])],1)})),1)],1),a("u-modal",{ref:"createModal",attrs:{title:"新建标签","async-close":!0,"confirm-text":"保存","show-cancel-button":!0},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onCreate.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.newTagTitle=""}},model:{value:t.showCreateModal,callback:function(e){t.showCreateModal=e},expression:"showCreateModal"}},[a("u-form-item",{staticClass:"slot-content",attrs:{label:"主题"}},[a("u-input",{attrs:{maxlength:"32"},model:{value:t.newTagTitle,callback:function(e){t.newTagTitle=e},expression:"newTagTitle"}})],1)],1),a("u-modal",{ref:"updateModal",attrs:{title:"修改标签","async-close":!0,"confirm-text":"保存","show-cancel-button":!0},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onUpdate.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.refresh.apply(void 0,arguments)}},model:{value:t.showUpdateModal,callback:function(e){t.showUpdateModal=e},expression:"showUpdateModal"}},[a("v-uni-view",{staticClass:"slot-content"},[a("u-form-item",{attrs:{label:"主题"}},[a("u-input",{attrs:{maxlength:"32"},model:{value:t.updateTag.title,callback:function(e){t.$set(t.updateTag,"title",e)},expression:"updateTag.title"}})],1)],1)],1)],1)},i=[]},"2c7f":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("91a2"),o={onShow:function(){this.refresh()},data:function(){return{tags:[],newTagTitle:"",showCreateModal:!1,showUpdateModal:!1,updateTag:{title:""}}},computed:{},methods:{refresh:function(){var e=this;(0,n.request)({url:"/api/app/tag?SkipCount=0&MaxResultCount=10"}).then((function(a){t.log(a),e.tags=a.data.items}))},onCreate:function(){var t=this;if(this.newTagTitle.length<1)return uni.showToast({icon:"none",title:"标签主题不能为空"}),void this.$refs.createModal.clearLoading();(0,n.requestPost)({url:"/api/app/tag",data:{title:this.newTagTitle}}).then((function(e){e.data.id&&(uni.showToast({title:"保存成功",icon:"none"}),t.newTagTitle="",t.refresh()),t.showCreateModal=!1})).catch((function(e){t.showCreateModal=!1,uni.showToast({title:e.error_description||e.error||e||"保存失败",icon:"none"})}))},onUpdate:function(){var t=this;if(this.updateTag.title.length<1)return uni.showToast({icon:"none",title:"标签主题不能为空"}),void this.$refs.updateModal.clearLoading();(0,n.requestPut)({url:"/api/app/tag/".concat(this.updateTag.id),data:this.updateTag}).then((function(e){e.data.id&&(uni.showToast({title:"保存成功",icon:"none"}),t.refresh()),t.showUpdateModal=!1})).catch((function(e){t.showUpdateModal=!1,uni.showToast({title:e.error_description||e.error||e||"保存失败",icon:"none"})}))},back:function(){uni.reLaunch({url:"/pages/wallets/index"})}}};e.default=o}).call(this,a("5a52")["default"])},"421d":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-navbar-right[data-v-3b8f064d]{margin-right:20px}.u-card-wrap[data-v-3b8f064d]{background-color:#f3f4f6;padding:1px}.u-body-item[data-v-3b8f064d]{font-size:%?32?%;color:#333;padding:%?20?% %?10?%}.slot-content[data-v-3b8f064d]{padding-left:50px}',""]),t.exports=e},b499:function(t,e,a){"use strict";a.r(e);var n=a("2c7f"),o=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=o.a},d670:function(t,e,a){"use strict";a.r(e);var n=a("123f"),o=a("b499");for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);a("e56b");var u,s=a("f0c5"),l=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"3b8f064d",null,!1,n["a"],u);e["default"]=l.exports},e56b:function(t,e,a){"use strict";var n=a("f2a4"),o=a.n(n);o.a},f2a4:function(t,e,a){var n=a("421d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("4f06").default;o("6ebd2997",n,!0,{sourceMap:!1,shadowMode:!1})}}]);